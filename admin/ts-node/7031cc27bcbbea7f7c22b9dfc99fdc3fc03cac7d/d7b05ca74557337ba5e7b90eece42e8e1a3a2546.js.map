{"version":3,"file":"/home/kluch/QProjects/irbispanel/admin/gulpfile.ts","sources":["/home/kluch/QProjects/irbispanel/admin/gulpfile.ts"],"names":[],"mappings":"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","sourcesContent":["import * as gulp from 'gulp';\nimport * as util from 'gulp-util';\nimport * as runSequence from 'run-sequence';\n\nimport Config from './tools/config';\nimport { loadTasks } from './tools/utils';\n\n\nloadTasks(Config.SEED_TASKS_DIR);\nloadTasks(Config.PROJECT_TASKS_DIR);\n\n\n// --------------\n// Build dev.\ngulp.task('build.dev', (done: any) =>\n  runSequence(//'clean.dev',\n//              'tslint',\n    'build.assets.dev',\n    'build.html_css',\n    'build.js.dev',\n    'build.index.dev',\n    done));\n\n// --------------\n// Build dev watch.\ngulp.task('build.dev.watch', (done: any) =>\n  runSequence('build.dev',\n    'watch.dev',\n    done));\n\n// --------------\n// Build e2e.\ngulp.task('build.e2e', (done: any) =>\n  runSequence('clean.dev',\n    'tslint',\n    'build.assets.dev',\n    'build.js.e2e',\n    'build.index.dev',\n    done));\n\n// --------------\n// Build prod.\ngulp.task('build.prod', (done: any) =>\n  runSequence('check.tools',\n    'clean.prod',\n    'tslint',\n    'build.assets.prod',\n    'build.html_css',\n    'copy.prod',\n    'build.js.prod',\n    'build.bundles',\n    'build.bundles.app',\n    'minify.bundles',\n    'build.index.prod',\n    done));\n\n// --------------\n// Build prod.\ngulp.task('build.prod.exp', (done: any) =>\n  runSequence('check.tools',\n    'clean.prod',\n    'tslint',\n    'build.assets.prod',\n    'build.html_css',\n    'copy.prod',\n    'compile.ahead.prod',\n    'build.js.prod.exp',\n    'build.bundles',\n    'build.bundles.app.exp',\n    'minify.bundles',\n    'build.index.prod',\n    done));\n\n// --------------\n// Build test.\ngulp.task('build.test', (done: any) =>\n  runSequence('clean.once',\n    'tslint',\n    'build.assets.dev',\n    'build.html_css',\n    'build.js.dev',\n    'build.js.test',\n    'build.index.dev',\n    done));\n\n// --------------\n// Build test watch.\ngulp.task('test.watch', (done: any) =>\n  runSequence('build.test',\n    'watch.test',\n    'karma.watch',\n    done));\n\n\n// --------------\n// Docs\n// gulp.task('docs', (done: any) =>\n//   runSequence('build.docs',\n//               'serve.docs',\n//               done));\n\n// --------------\n// Serve dev\ngulp.task('serve.dev', (done: any) =>\n  runSequence('build.dev',\n    'server.start',\n    'watch.dev',\n    done));\n\n// --------------\n// Serve e2e\ngulp.task('serve.e2e', (done: any) =>\n  runSequence('build.e2e',\n    'server.start',\n    'watch.e2e',\n    done));\n\n\n// --------------\n// Serve prod\ngulp.task('serve.prod', (done: any) =>\n  runSequence('build.prod',\n    'server.prod',\n    done));\n\n\n// --------------\n// Test.\ngulp.task('test', (done: any) =>\n  runSequence('build.test',\n    'karma.run',\n    done));\n\n// --------------\n// Clean directories after i18n\n// TODO: find a better way to do it\ngulp.task('clean.i18n', (done: any) =>\n  runSequence('clear.files',\n    done));\n\n// --------------\n// Clean dev/coverage that will only run once\n// this prevents karma watchers from being broken when directories are deleted\nlet firstRun = true;\ngulp.task('clean.once', (done: any) => {\n  if (firstRun) {\n    firstRun = false;\n    runSequence('check.tools', 'clean.dev', 'clean.coverage', done);\n  } else {\n    util.log('Skipping clean on rebuild');\n    done();\n  }\n});\n\n"]}